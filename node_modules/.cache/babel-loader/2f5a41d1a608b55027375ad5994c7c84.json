{"ast":null,"code":"import React, { useContext, useEffect, useState, useCallback } from 'react';\nimport ReactDOM from 'react-dom';\nimport { useTransition, animated } from 'react-spring';\nvar ModalContext = /*#__PURE__*/React.createContext({});\n\nvar useModalContext = function useModalContext() {\n  return useContext(ModalContext);\n};\n\nvar ModalTransition;\n\n(function (ModalTransition) {\n  ModalTransition[\"NONE\"] = \"NONE\";\n  ModalTransition[\"SCALE\"] = \"SCALE\";\n  ModalTransition[\"TOP_DOWN\"] = \"TOP_DOWN\";\n  ModalTransition[\"BOTTOM_UP\"] = \"BOTTOM_UP\";\n})(ModalTransition || (ModalTransition = {}));\n\nvar ModalTransitionConfig = {\n  NONE: {\n    from: {\n      transform: 'scale(1)'\n    },\n    enter: {\n      transform: 'scale(1)'\n    },\n    leave: {\n      transform: 'scale(1)'\n    }\n  },\n  SCALE: {\n    from: {\n      transform: 'scale(0)',\n      opacity: 0\n    },\n    enter: {\n      transform: 'scale(1)',\n      opacity: 1\n    },\n    leave: {\n      transform: 'scale(0)',\n      opacity: 0\n    },\n    config: {\n      tension: 800,\n      friction: 25\n    }\n  },\n  TOP_DOWN: {\n    from: {\n      transform: 'translateY(-150%)'\n    },\n    enter: {\n      transform: 'translateY(0)'\n    },\n    leave: {\n      transform: 'translateY(-150%)'\n    },\n    config: {\n      tension: 500,\n      friction: 25\n    }\n  },\n  BOTTOM_UP: {\n    from: {\n      transform: 'translateY(150%)'\n    },\n    enter: {\n      transform: 'translateY(0)'\n    },\n    leave: {\n      transform: 'translateY(150%)'\n    },\n    config: {\n      tension: 500,\n      friction: 25\n    }\n  }\n};\n\nvar useModalTransition = function useModalTransition(transition, isOpen) {\n  if (transition === void 0) {\n    transition = ModalTransition.SCALE;\n  }\n\n  return useTransition(isOpen, null, ModalTransitionConfig[transition]);\n};\n\nvar ModalContainer = function ModalContainer(_ref) {\n  var children = _ref.children,\n      isOpen = _ref.isOpen,\n      footer = _ref.footer,\n      transition = _ref.transition,\n      onBackdropClick = _ref.onBackdropClick,\n      transformDistance = _ref.transformDistance,\n      modalClassName = _ref.modalClassName;\n  var modalTransitions = useModalTransition(transition, isOpen);\n  return React.createElement(React.Fragment, null, modalTransitions.map(function (_ref2) {\n    var item = _ref2.item,\n        key = _ref2.key,\n        props = _ref2.props;\n    return item && React.createElement(animated.div, {\n      key: key,\n      style: props,\n      className: \"rsm-fixed rsm-inset-0 rsm-m-4 sm:rsm-m-8 rsm-flex rsm-justify-center rsm-items-center rsm-z-40\",\n      onClick: onBackdropClick\n    }, React.createElement(\"div\", {\n      className: \"rsm-bg-white rsm-rounded-md rsm-overflow-auto rsm-max-h-full rsm-w-full md:rsm-w-10/12 xl:rsm-w-1/2 rsm-opactiy-100 rsm-shadow-lg rsm-z-50 rsm-border rsm-border-gray-200 rsm-flex rsm-flex-col \" + (modalClassName !== null && modalClassName !== void 0 ? modalClassName : ''),\n      style: {\n        minHeight: '70%',\n        transition: transition === ModalTransition.NONE ? '' : 'transform ease-in-out .2s',\n        transform: \"translate(\" + transformDistance + \"px, \" + transformDistance + \"px)\",\n        transformOrigin: 'center'\n      },\n      onClick: function onClick(e) {\n        return e.stopPropagation();\n      }\n    }, React.createElement(\"div\", {\n      className: \"rsm-flex-1 rsm-p-8\"\n    }, children), !footer ? null : React.createElement(\"div\", {\n      className: \"rsm-bg-gray-200 rsm-p-4\"\n    }, footer)));\n  }));\n};\n\nfunction hasDOM() {\n  return !!(typeof window !== 'undefined' && window.document && window.document.createElement);\n}\n\nvar Modal = function Modal(modal) {\n  var _useModalContext = useModalContext(),\n      addOrUpdate = _useModalContext.addOrUpdate,\n      remove = _useModalContext.remove,\n      getStaggerPixels = _useModalContext.getStaggerPixels;\n\n  var id = modal.id,\n      isOpen = modal.isOpen;\n  var container = hasDOM() ? document.getElementById('react-simple-modal-container') : null;\n  useEffect(function () {\n    isOpen ? addOrUpdate(id) : remove(id);\n    return function () {\n      return remove(id);\n    };\n  }, [id, isOpen]);\n  return container ? ReactDOM.createPortal(React.createElement(ModalContainer, Object.assign({\n    transformDistance: getStaggerPixels(id)\n  }, modal)), container) : null;\n};\n\nvar ModalProvider = function ModalProvider(_ref) {\n  var children = _ref.children,\n      backdropClassName = _ref.backdropClassName;\n\n  var _useState = useState([]),\n      openModals = _useState[0],\n      setOpenModals = _useState[1];\n\n  var addOrUpdate = useCallback(function (_id) {\n    setOpenModals(function (prev) {\n      var exists = prev.some(function (id) {\n        return id === _id;\n      });\n      return exists ? prev : [].concat(prev, [_id]);\n    });\n  }, []);\n  var remove = useCallback(function (_id) {\n    setOpenModals(function (prev) {\n      return prev.filter(function (id) {\n        return id !== _id;\n      });\n    });\n  }, []);\n  var modalOpen = openModals.length > 0;\n  var getStaggerPixels = useCallback(function (_id) {\n    var index = openModals.findIndex(function (id) {\n      return id === _id;\n    });\n    return openModals.length * 8 - (index + 1) * 8;\n  }, [openModals]);\n  return React.createElement(ModalContext.Provider, {\n    value: {\n      addOrUpdate: addOrUpdate,\n      remove: remove,\n      getStaggerPixels: getStaggerPixels\n    }\n  }, children, !modalOpen ? null : React.createElement(\"div\", {\n    className: 'rsm-fixed rsm-inset-0 rsm-opacity-50 rsm-z-40 rsm-bg-gray-700 ' + backdropClassName || ''\n  }), React.createElement(\"div\", {\n    id: \"react-simple-modal-container\"\n  }));\n};\n\nvar useModal = function useModal() {\n  var _useState = useState(false),\n      isModalOpen = _useState[0],\n      setIsModalOpen = _useState[1];\n\n  var openModal = useCallback(function () {\n    return setIsModalOpen(true);\n  }, []);\n  var closeModal = useCallback(function () {\n    return setIsModalOpen(false);\n  }, []);\n  return {\n    isModalOpen: isModalOpen,\n    openModal: openModal,\n    closeModal: closeModal\n  };\n};\n\nexport { Modal, ModalProvider, ModalTransition, useModal };","map":{"version":3,"sources":["../src/ModalContext.ts","../src/hooks/useModalContext.ts","../src/hooks/useModalTransition.ts","../src/components/ModalContainer.tsx","../src/components/Modal.tsx","../src/components/ModalProvider.tsx","../src/hooks/useModal.ts"],"names":["ModalContext","React","useModalContext","useContext","ModalTransition","ModalTransitionConfig","NONE","from","transform","enter","leave","SCALE","opacity","config","tension","friction","TOP_DOWN","BOTTOM_UP","useModalTransition","transition","useTransition","ModalContainer","children","isOpen","footer","onBackdropClick","transformDistance","modalClassName","modalTransitions","item","key","props","animated","style","className","onClick","minHeight","transformOrigin","e","window","Modal","addOrUpdate","remove","getStaggerPixels","id","modal","container","hasDOM","document","useEffect","ModalProvider","backdropClassName","openModals","setOpenModals","useState","useCallback","exists","modalOpen","index","value","useModal","isModalOpen","setIsModalOpen","openModal","closeModal"],"mappings":"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","sourcesContent":["import React from 'react';\n\nexport interface Context {\n  addOrUpdate(id: string): void;\n  remove(id: string): void;\n  getStaggerPixels(id: string): number;\n}\n\nexport const ModalContext = React.createContext({} as Context);\n","import { useContext } from 'react';\nimport { ModalContext, Context } from '../ModalContext';\n\nexport const useModalContext = () => useContext<Context>(ModalContext);\n","import { useTransition } from 'react-spring';\n\nexport enum ModalTransition {\n  NONE = 'NONE',\n  SCALE = 'SCALE',\n  TOP_DOWN = 'TOP_DOWN',\n  BOTTOM_UP = 'BOTTOM_UP',\n}\n\nconst ModalTransitionConfig: { [key in ModalTransition]: object } = {\n  NONE: {\n    from: { transform: 'scale(1)' },\n    enter: { transform: 'scale(1)' },\n    leave: { transform: 'scale(1)' },\n  },\n  SCALE: {\n    from: { transform: 'scale(0)', opacity: 0 },\n    enter: { transform: 'scale(1)', opacity: 1 },\n    leave: { transform: 'scale(0)', opacity: 0 },\n    config: { tension: 800, friction: 25 },\n  },\n  TOP_DOWN: {\n    from: { transform: 'translateY(-150%)' },\n    enter: { transform: 'translateY(0)' },\n    leave: { transform: 'translateY(-150%)' },\n    config: { tension: 500, friction: 25 },\n  },\n  BOTTOM_UP: {\n    from: { transform: 'translateY(150%)' },\n    enter: { transform: 'translateY(0)' },\n    leave: { transform: 'translateY(150%)' },\n    config: { tension: 500, friction: 25 },\n  },\n};\n\nexport const useModalTransition = (\n  transition: ModalTransition = ModalTransition.SCALE,\n  isOpen: boolean\n) => {\n  return useTransition(isOpen, null, ModalTransitionConfig[transition]);\n};\n","import React from 'react';\nimport { animated } from 'react-spring';\nimport {\n  useModalTransition,\n  ModalTransition,\n} from '../hooks/useModalTransition';\nimport { ModalProps } from './Modal';\n\ninterface Props {\n  transformDistance: number;\n}\n\nexport const ModalContainer: React.FC<ModalProps & Props> = ({\n  children,\n  isOpen,\n  footer,\n  transition,\n  onBackdropClick,\n  transformDistance,\n  modalClassName,\n}) => {\n  const modalTransitions = useModalTransition(transition, isOpen);\n\n  return (\n    <>\n      {modalTransitions.map(\n        ({ item, key, props }) =>\n          item && (\n            <animated.div\n              key={key}\n              style={props}\n              className=\"rsm-fixed rsm-inset-0 rsm-m-4 sm:rsm-m-8 rsm-flex rsm-justify-center rsm-items-center rsm-z-40\"\n              onClick={onBackdropClick}\n            >\n              <div\n                className={`rsm-bg-white rsm-rounded-md rsm-overflow-auto rsm-max-h-full rsm-w-full md:rsm-w-10/12 xl:rsm-w-1/2 rsm-opactiy-100 rsm-shadow-lg rsm-z-50 rsm-border rsm-border-gray-200 rsm-flex rsm-flex-col ${modalClassName ??\n                  ''}`}\n                style={{\n                  minHeight: '70%',\n                  transition:\n                    transition === ModalTransition.NONE\n                      ? ''\n                      : 'transform ease-in-out .2s',\n                  transform: `translate(${transformDistance}px, ${transformDistance}px)`,\n                  transformOrigin: 'center',\n                }}\n                onClick={e => e.stopPropagation()}\n              >\n                <div className=\"rsm-flex-1 rsm-p-8\">{children}</div>\n                {!footer ? null : (\n                  <div className=\"rsm-bg-gray-200 rsm-p-4\">{footer}</div>\n                )}\n              </div>\n            </animated.div>\n          )\n      )}\n    </>\n  );\n};\n","import React, { useEffect } from 'react';\nimport ReactDOM from 'react-dom';\nimport { useModalContext } from '../hooks/useModalContext';\nimport { ModalTransition } from '../hooks/useModalTransition';\nimport { ModalContainer } from './ModalContainer';\n\nexport interface ModalProps {\n  id: string;\n  isOpen: boolean;\n  onBackdropClick?: () => void;\n  footer?: React.ReactNode;\n  transition?: ModalTransition;\n  modalClassName?: string;\n}\n\nfunction hasDOM() {\n  return !!(\n    typeof window !== 'undefined' &&\n    window.document &&\n    window.document.createElement\n  );\n}\n\nexport const Modal: React.FC<ModalProps> = modal => {\n  const { addOrUpdate, remove, getStaggerPixels } = useModalContext();\n  const { id, isOpen } = modal;\n\n  const container = hasDOM()\n    ? document.getElementById('react-simple-modal-container')\n    : null;\n\n  useEffect(() => {\n    isOpen ? addOrUpdate(id) : remove(id);\n    return () => remove(id);\n  }, [id, isOpen]);\n\n  return container\n    ? ReactDOM.createPortal(\n        <ModalContainer transformDistance={getStaggerPixels(id)} {...modal} />,\n        container\n      )\n    : null;\n};\n","import React, { useState, useCallback } from 'react';\nimport { ModalContext } from '../ModalContext';\n\nexport interface ModalProviderProps {\n  backdropClassName?: string;\n}\n\nexport const ModalProvider: React.FC<ModalProviderProps> = ({\n  children,\n  backdropClassName,\n}) => {\n  const [openModals, setOpenModals] = useState<string[]>([]);\n\n  const addOrUpdate = useCallback((_id: string) => {\n    setOpenModals(prev => {\n      const exists = prev.some(id => id === _id);\n      return exists ? prev : [...prev, _id];\n    });\n  }, []);\n\n  const remove = useCallback((_id: string) => {\n    setOpenModals(prev => prev.filter(id => id !== _id));\n  }, []);\n\n  const modalOpen = openModals.length > 0;\n\n  const getStaggerPixels = useCallback(\n    (_id: string) => {\n      const index = openModals.findIndex(id => id === _id);\n      return openModals.length * 8 - (index + 1) * 8;\n    },\n    [openModals]\n  );\n\n  return (\n    <ModalContext.Provider value={{ addOrUpdate, remove, getStaggerPixels }}>\n      {children}\n      {!modalOpen ? null : (\n        <div\n          className={\n            'rsm-fixed rsm-inset-0 rsm-opacity-50 rsm-z-40 rsm-bg-gray-700 ' +\n              backdropClassName || ''\n          }\n        />\n      )}\n      <div id=\"react-simple-modal-container\" />\n    </ModalContext.Provider>\n  );\n};\n","import { useState, useCallback } from 'react';\n\nexport const useModal = () => {\n  const [isModalOpen, setIsModalOpen] = useState(false);\n\n  const openModal = useCallback(() => setIsModalOpen(true), []);\n  const closeModal = useCallback(() => setIsModalOpen(false), []);\n\n  return {\n    isModalOpen,\n    openModal,\n    closeModal,\n  };\n};\n"]},"metadata":{},"sourceType":"module"}