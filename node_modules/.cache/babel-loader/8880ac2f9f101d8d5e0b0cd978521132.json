{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\franc\\\\OneDrive\\\\Documentos\\\\GitHub\\\\material-kit-react-main\\\\src\\\\components\\\\payment\\\\PaymentPage.js\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport Payment from 'payment';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass PaymentPage extends React.Component {\n  constructor(props) {\n    super(props);\n    this.setCards();\n  }\n\n  componentDidUpdate(prevProps) {\n    const {\n      acceptedCards,\n      callback,\n      number\n    } = this.props;\n\n    if (prevProps.number !== number) {\n      /* istanbul ignore else */\n      if (typeof callback === 'function') {\n        callback(this.options, Payment.fns.validateCardNumber(number));\n      }\n    }\n\n    if (prevProps.acceptedCards.toString() !== acceptedCards.toString()) {\n      this.setCards();\n    }\n  }\n\n  get issuer() {\n    const {\n      issuer,\n      preview\n    } = this.props;\n    return preview && issuer ? issuer.toLowerCase() : this.options.issuer;\n  }\n\n  get number() {\n    const {\n      number,\n      preview\n    } = this.props;\n    let maxLength = preview ? 19 : this.options.maxLength;\n    let nextNumber = typeof number === 'number' ? number.toString() : number.replace(/[A-Za-z]| /g, '');\n\n    if (isNaN(parseInt(nextNumber, 10)) && !preview) {\n      nextNumber = '';\n    }\n\n    if (maxLength > 16) {\n      maxLength = nextNumber.length <= 16 ? 16 : maxLength;\n    }\n\n    if (nextNumber.length > maxLength) {\n      nextNumber = nextNumber.slice(0, maxLength);\n    }\n\n    while (nextNumber.length < maxLength) {\n      nextNumber += '•';\n    }\n\n    if (['amex', 'dinersclub'].includes(this.issuer)) {\n      const format = [0, 4, 10];\n      const limit = [4, 6, 5];\n      nextNumber = `${nextNumber.substr(format[0], limit[0])} ${nextNumber.substr(format[1], limit[1])} ${nextNumber.substr(format[2], limit[2])}`;\n    } else if (nextNumber.length > 16) {\n      const format = [0, 4, 8, 12];\n      const limit = [4, 7];\n      nextNumber = `${nextNumber.substr(format[0], limit[0])} ${nextNumber.substr(format[1], limit[0])} ${nextNumber.substr(format[2], limit[0])} ${nextNumber.substr(format[3], limit[1])}`;\n    } else {\n      for (let i = 1; i < maxLength / 4; i++) {\n        const space_index = i * 4 + (i - 1);\n        nextNumber = `${nextNumber.slice(0, space_index)} ${nextNumber.slice(space_index)}`;\n      }\n    }\n\n    return nextNumber;\n  }\n\n  get expiry() {\n    const {\n      expiry = ''\n    } = this.props;\n    const date = typeof expiry === 'number' ? expiry.toString() : expiry;\n    let month = '';\n    let year = '';\n\n    if (date.includes('/')) {\n      [month, year] = date.split('/');\n    } else if (date.length) {\n      month = date.substr(0, 2);\n      year = date.substr(2, 6);\n    }\n\n    while (month.length < 2) {\n      month += '•';\n    }\n\n    if (year.length > 2) {\n      year = year.substr(2, 4);\n    }\n\n    while (year.length < 2) {\n      year += '•';\n    }\n\n    return `${month}/${year}`;\n  }\n\n  get options() {\n    const {\n      number\n    } = this.props;\n    const issuer = Payment.fns.cardType(number) || 'unknown';\n    let maxLength = 16;\n\n    if (issuer === 'amex') {\n      maxLength = 15;\n    } else if (issuer === 'dinersclub') {\n      maxLength = 14;\n    } else if (['hipercard', 'mastercard', 'visa'].includes(issuer)) {\n      maxLength = 19;\n    }\n\n    return {\n      issuer,\n      maxLength\n    };\n  }\n\n  setCards() {\n    const {\n      acceptedCards\n    } = this.props;\n    let newCardArray = [];\n\n    if (acceptedCards.length) {\n      Payment.getCardArray().forEach(d => {\n        if (acceptedCards.includes(d.type)) {\n          newCardArray.push(d);\n        }\n      });\n    } else {\n      newCardArray = newCardArray.concat(Payment.getCardArray());\n    }\n\n    Payment.setCardArray(newCardArray);\n  }\n\n  render() {\n    const {\n      cvc,\n      focused,\n      locale,\n      name,\n      placeholders\n    } = this.props;\n    const {\n      number,\n      expiry\n    } = this;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"rccs\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: ['rccs__card', `rccs__card--${this.issuer}`, focused === 'cvc' && this.issuer !== 'amex' ? 'rccs__card--flipped' : ''].join(' ').trim(),\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"rccs__card--front\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"rccs__card__background\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 197,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"rccs__issuer\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 198,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: ['rccs__cvc__front', focused === 'cvc' ? 'rccs--focused' : ''].join(' ').trim(),\n            children: cvc\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 199,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: ['rccs__number', number.replace(/ /g, '').length > 16 ? 'rccs__number--large' : '', focused === 'number' ? 'rccs--focused' : '', number.substr(0, 1) !== '•' ? 'rccs--filled' : ''].join(' ').trim(),\n            children: number\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 207,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: ['rccs__name', focused === 'name' ? 'rccs--focused' : '', name ? 'rccs--filled' : ''].join(' ').trim(),\n            children: name || placeholders.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 217,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: ['rccs__expiry', focused === 'expiry' ? 'rccs--focused' : '', expiry.substr(0, 1) !== '•' ? 'rccs--filled' : ''].join(' ').trim(),\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"rccs__expiry__valid\",\n              children: locale.valid\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 233,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"rccs__expiry__value\",\n              children: expiry\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 234,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 226,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"rccs__chip\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 236,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 196,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"rccs__card--back\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"rccs__card__background\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 239,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"rccs__stripe\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 240,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"rccs__signature\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 241,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: ['rccs__cvc', focused === 'cvc' ? 'rccs--focused' : ''].join(' ').trim(),\n            children: cvc\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 242,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"rccs__issuer\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 250,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 238,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 9\n      }, this)\n    }, \"Cards\", false, {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nPaymentPage.propTypes = {\n  acceptedCards: PropTypes.array,\n  callback: PropTypes.func,\n  cvc: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n  expiry: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n  focused: PropTypes.string,\n  issuer: PropTypes.string,\n  locale: PropTypes.shape({\n    valid: PropTypes.string\n  }),\n  name: PropTypes.string.isRequired,\n  number: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n  placeholders: PropTypes.shape({\n    name: PropTypes.string\n  }),\n  preview: PropTypes.bool\n};\nPaymentPage.defaultProps = {\n  acceptedCards: [],\n  locale: {\n    valid: 'valid thru'\n  },\n  placeholders: {\n    name: 'YOUR NAME HERE'\n  },\n  preview: false\n};\nexport default PaymentPage;","map":{"version":3,"sources":["C:/Users/franc/OneDrive/Documentos/GitHub/material-kit-react-main/src/components/payment/PaymentPage.js"],"names":["React","PropTypes","Payment","PaymentPage","Component","constructor","props","setCards","componentDidUpdate","prevProps","acceptedCards","callback","number","options","fns","validateCardNumber","toString","issuer","preview","toLowerCase","maxLength","nextNumber","replace","isNaN","parseInt","length","slice","includes","format","limit","substr","i","space_index","expiry","date","month","year","split","cardType","newCardArray","getCardArray","forEach","d","type","push","concat","setCardArray","render","cvc","focused","locale","name","placeholders","join","trim","valid","propTypes","array","func","oneOfType","string","isRequired","shape","bool","defaultProps"],"mappings":"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","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport Payment from 'payment';\n\nclass PaymentPage extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.setCards();\n  }\n\n  static propTypes = {\n    acceptedCards: PropTypes.array,\n    callback: PropTypes.func,\n    cvc: PropTypes.oneOfType([\n      PropTypes.string,\n      PropTypes.number,\n    ]).isRequired,\n    expiry: PropTypes.oneOfType([\n      PropTypes.string,\n      PropTypes.number,\n    ]).isRequired,\n    focused: PropTypes.string,\n    issuer: PropTypes.string,\n    locale: PropTypes.shape({\n      valid: PropTypes.string,\n    }),\n    name: PropTypes.string.isRequired,\n    number: PropTypes.oneOfType([\n      PropTypes.string,\n      PropTypes.number,\n    ]).isRequired,\n    placeholders: PropTypes.shape({\n      name: PropTypes.string,\n    }),\n    preview: PropTypes.bool,\n  };\n\n  static defaultProps = {\n    acceptedCards: [],\n    locale: {\n      valid: 'valid thru',\n    },\n    placeholders: {\n      name: 'YOUR NAME HERE',\n    },\n    preview: false,\n  };\n\n  componentDidUpdate(prevProps) {\n    const { acceptedCards, callback, number } = this.props;\n\n    if (prevProps.number !== number) {\n      /* istanbul ignore else */\n      if (typeof callback === 'function') {\n        callback(this.options, Payment.fns.validateCardNumber(number));\n      }\n    }\n\n    if (prevProps.acceptedCards.toString() !== acceptedCards.toString()) {\n      this.setCards();\n    }\n  }\n\n  get issuer() {\n    const { issuer, preview } = this.props;\n\n    return preview && issuer ? issuer.toLowerCase() : this.options.issuer;\n  }\n\n  get number() {\n    const { number, preview } = this.props;\n\n    let maxLength = preview ? 19 : this.options.maxLength;\n    let nextNumber = typeof number === 'number' ? number.toString() : number.replace(/[A-Za-z]| /g, '');\n\n    if (isNaN(parseInt(nextNumber, 10)) && !preview) {\n      nextNumber = '';\n    }\n\n    if (maxLength > 16) {\n      maxLength = nextNumber.length <= 16 ? 16 : maxLength;\n    }\n\n    if (nextNumber.length > maxLength) {\n      nextNumber = nextNumber.slice(0, maxLength);\n    }\n\n    while (nextNumber.length < maxLength) {\n      nextNumber += '•';\n    }\n\n    if (['amex', 'dinersclub'].includes(this.issuer)) {\n      const format = [0, 4, 10];\n      const limit = [4, 6, 5];\n      nextNumber = `${nextNumber.substr(format[0], limit[0])} ${nextNumber.substr(format[1], limit[1])} ${nextNumber.substr(format[2], limit[2])}`;\n    }\n    else if (nextNumber.length > 16) {\n      const format = [0, 4, 8, 12];\n      const limit = [4, 7];\n      nextNumber = `${nextNumber.substr(format[0], limit[0])} ${nextNumber.substr(format[1], limit[0])} ${nextNumber.substr(format[2], limit[0])} ${nextNumber.substr(format[3], limit[1])}`;\n    }\n    else {\n      for (let i = 1; i < (maxLength / 4); i++) {\n        const space_index = (i * 4) + (i - 1);\n        nextNumber = `${nextNumber.slice(0, space_index)} ${nextNumber.slice(space_index)}`;\n      }\n    }\n\n    return nextNumber;\n  }\n\n  get expiry() {\n    const { expiry = '' } = this.props;\n    const date = typeof expiry === 'number' ? expiry.toString() : expiry;\n    let month = '';\n    let year = '';\n\n    if (date.includes('/')) {\n      [month, year] = date.split('/');\n    }\n    else if (date.length) {\n      month = date.substr(0, 2);\n      year = date.substr(2, 6);\n    }\n\n    while (month.length < 2) {\n      month += '•';\n    }\n\n    if (year.length > 2) {\n      year = year.substr(2, 4);\n    }\n\n    while (year.length < 2) {\n      year += '•';\n    }\n\n    return `${month}/${year}`;\n  }\n\n  get options() {\n    const { number } = this.props;\n    const issuer = Payment.fns.cardType(number) || 'unknown';\n\n    let maxLength = 16;\n\n    if (issuer === 'amex') {\n      maxLength = 15;\n    }\n    else if (issuer === 'dinersclub') {\n      maxLength = 14;\n    }\n    else if (['hipercard', 'mastercard', 'visa'].includes(issuer)) {\n      maxLength = 19;\n    }\n\n    return {\n      issuer,\n      maxLength,\n    };\n  }\n\n  setCards() {\n    const { acceptedCards } = this.props;\n    let newCardArray = [];\n\n    if (acceptedCards.length) {\n      Payment.getCardArray()\n        .forEach(d => {\n          if (acceptedCards.includes(d.type)) {\n            newCardArray.push(d);\n          }\n        });\n    }\n    else {\n      newCardArray = newCardArray.concat(Payment.getCardArray());\n    }\n\n    Payment.setCardArray(newCardArray);\n  }\n\n  render() {\n    const { cvc, focused, locale, name, placeholders } = this.props;\n    const { number, expiry } = this;\n\n    return (\n      <div key=\"Cards\" className=\"rccs\">\n        <div\n          className={[\n            'rccs__card',\n            `rccs__card--${this.issuer}`,\n            focused === 'cvc' && this.issuer !== 'amex' ? 'rccs__card--flipped' : '',\n          ].join(' ').trim()}\n        >\n          <div className=\"rccs__card--front\">\n            <div className=\"rccs__card__background\" />\n            <div className=\"rccs__issuer\" />\n            <div\n              className={[\n                'rccs__cvc__front',\n                focused === 'cvc' ? 'rccs--focused' : '',\n              ].join(' ').trim()}\n            >\n              {cvc}\n            </div>\n            <div\n              className={[\n                'rccs__number',\n                number.replace(/ /g, '').length > 16 ? 'rccs__number--large' : '',\n                focused === 'number' ? 'rccs--focused' : '',\n                number.substr(0, 1) !== '•' ? 'rccs--filled' : '',\n              ].join(' ').trim()}\n            >\n              {number}\n            </div>\n            <div\n              className={[\n                'rccs__name',\n                focused === 'name' ? 'rccs--focused' : '',\n                name ? 'rccs--filled' : '',\n              ].join(' ').trim()}\n            >\n              {name || placeholders.name}\n            </div>\n            <div\n              className={[\n                'rccs__expiry',\n                focused === 'expiry' ? 'rccs--focused' : '',\n                expiry.substr(0, 1) !== '•' ? 'rccs--filled' : '',\n              ].join(' ').trim()}\n            >\n              <div className=\"rccs__expiry__valid\">{locale.valid}</div>\n              <div className=\"rccs__expiry__value\">{expiry}</div>\n            </div>\n            <div className=\"rccs__chip\" />\n          </div>\n          <div className=\"rccs__card--back\">\n            <div className=\"rccs__card__background\" />\n            <div className=\"rccs__stripe\" />\n            <div className=\"rccs__signature\" />\n            <div\n              className={[\n                'rccs__cvc',\n                focused === 'cvc' ? 'rccs--focused' : '',\n              ].join(' ').trim()}\n            >\n              {cvc}\n            </div>\n            <div className=\"rccs__issuer\" />\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default PaymentPage;\n"]},"metadata":{},"sourceType":"module"}